{
  "company": "Wingify",
  "title": "Wingify",
  "xmlUrl": "http://engineering.wingify.com/atom.xml",
  "htmlUrl": "http://engineering.wingify.com/",
  "content": "How we are writing modern Javascript with AngularJs | Wingify EngineeringWingify EngineeringPostsLabsAboutGithubFeedWe are HiringHow we are writing modern Javascript with AngularJsWritten by Pranav Jindal March 22, 2023 \u2014 11 Min Read  | \u00a0...\n\n\nPreface\nWriting slick user interfaces has never been so delightful as it is now. You\u2019ve got amazing frameworks, state management patterns that are easy to reason about, development tools, awesome community support, and all the tools around the whole Javascript world. The Developer Experience (DX) you get today, no matter what modern stack you choose, is simply great. Features like compile-time error detection, pre-processors, and hot-reload are just taken for granted and undoubtedly cut development time by a large margin.\nUnfortunately, not every software product has the advantage of being developed in such an ideal setting. This shiny JS world was just lit by a few stars like AngularJS when we started writing the new user interface for VWO which now has evolved into a very large codebase with uncountable features and has been consistently updated and maintained over the years. \nWith AngularJS 1.x, we were required to develop our own build system and use custom pre-processors and transpilers to achieve the same capabilities that modern frameworks provide natively. In short, we had to handle the developer experience aspect internally, and we have managed to do so quite effectively.\nAlthough AngularJs is too old to be used for any web application today, over time we have learned how to use it in a modern way.\nIn this blog post, we will discuss how we write modern Javascript along with AngularJS 1.x and discuss some of the key features and tools that we leverage to make development more efficient and maintainable.\nTypescript\nUsing JavaScript for web-dev is like playing on hardcore-mode.\nYou've allowed friendly-fire. If you want to shoot yourself in the foot, you can shoot yourself in the foot.\nWe're not up for that. We love our foot and also want to keep VWO running bug-free and that is why we use Typescript.\nTypescript needs no introduction and we started the process of migrating our app codebase to TS around 3 years back, although it wasn\u2019t straightforward as we had been using a lot of legacy patterns like AMD (asynchronous module definition) with requireJS and a very custom build process that involved Grunt and older version of NodeJs to build it.\nWe wanted to use ES import syntax with strong types but all we saw was:\n\n\n\nWe analyzed the tscompiler options and set the target to AMD and wrote a custom process to rename all JS files to TS and applied // @ts-nocheck directive on the top without touching the source code at all. This way the whole team could write TS for new files and writing TS was opt-in for older files.\nAlthough, we had to keep tsconfig.json very lenient at the start with compiler options that enforced strict code had to be turned off. New files could be written with the modern ES import syntax and older files could be manually translated.\nAfter some time, we realized that manual translation from AMD to ES would take an eternity to complete, we looked for solutions and luckily found a JScodeshift that could transform AMD to ES\nAs time passed by, our team gradually adopted Typescript and leveraged its countless features, resulting in a codebase that is exceptionally type-safe.\nFor example, the optional chaining operator allows us to access the properties of an object without worrying about whether the object is null or undefined. This can save a lot of time and effort when working with complex objects, as it eliminates the need to check for null or undefined values at every level.\nWe also wrote TS decorators for class methods and they just work wonders for us.\n@memoize({ cacheKeyResolver: JSON.stringify })\n@batchify({\n\tbatchKey: 'ids',\n\tmaxBatchCapacity: 10,\n\tmaxWait: 1000\n})\n@asyncThrottle({ MaxRequestCount: 12, isLIFO: true })\ngetCampaignsDetails(params: QueryForListParams) {\n\treturn  this.CampaignResource.queryForCampaignsList(null, params);\n}\nWe use multiple decorators as shown above which help us separate out the business logics and performance improvements. Not only this helps us maintain the code, but also makes the code easy to follow and self-documenting. \n\n Code is like humor. When you have to explain it, it's bad! \n\nApart from this, we utilize enums and the new satisfies operator to make deeply typesafe code.\nenum SessionPlatform {\n\tMOBILE = 'mobile',\n\tTABLET = 'tablet'\n}\n\nconst  SessionPlatformDetails  = {\n\t[SessionPlatform.MOBILE]: {\n\t\ticon: IconEnum.MOBILE_ICON,\n\t\ttitle: 'Mobile'\n\t},\n\t[SessionPlatform.TABLET]: {\n\t\ticon: IconEnum.IPAD_ICON,\n\t\ttitle: 'Tablet'\n\t}\n} as const satisfies Record<SessionPlatformSupportedEnum, {\n\ticon: IconEnum, \n\ttitle: string\n}>;\n\nThe code as above ensures that if a new SessionPlatform is added, the developer never misses adding the details in SessionPlatformDetails.\n\nRecently, we also learnt about writing exhaustive switch cases with TS that basically eliminates any missed cases on compile-time itself.\nAsync-await support\nAngularJs uses it's own $q service which is a first-class Promise implementation, but along with that it ensures that angular's digest cycle triggers automatically on promise status change.\nThis works well until the developer ensures that native Promise is NOT used anywhere and only $q is used for any async operation, but easily falls apart if they use async-await which uses native Promise internally and digest cycles are missed.\nTo mitigate this, we use target for TScompiler is ES5 which transpiles ES5+ code down to ES5 and polyfill the new features with tslib/ts_helpers. The async-await code is transpiled down to using Native Promise.\nNow that is a small issue as the transpiled code directly depends on global Promise and we wanted the transpiled code to use $q. To fix this, we did a smart hack, by ensuring the global Promise always points to $q in the app.run block.\nObject.defineProperty(window, 'Promise', {\n\tget() {\n\t\treturn $q;\n\t},\n\tset() {\n\t\t// ignore any other code trying to replace global Promise\n\t}\n});\nNow, we have complete clean async-await support without worrying about missing digest and no promise-hells \ud83d\ude09.\nI can keep on blabbering about how amazing typescript is (because it really is), but I'll move on.\nTuning AngularJS\nEverything around AngularJS is legacy now, be it available packages, community support, or answers over stackoverflow.\nOver the course of last few years, we upgraded the version of AngularJS in our VWO app from 1.2.x to 1.8.3 (last version of 1.x that Angular team left us with \ud83e\udd72).\nThis upgrade also was gradual and version-by-version as we had to go through the complete changelog of AngularJS. We were also at risk of depending on any deprecated undocumented APIs, hence extra care was needed.\nHowever, everything eventually worked and we were running the latest version. We also upgraded few of the other related packages and @types/angular package for best typing support from TS.\nImportable AngularJS services\nAngularJS came with it's own dependency injection system because at that time, no particular module system was there in place in browsers. Developers usually used to mess-up the global namespace for code-sharing and hence dependency injection was a welcome move by Angular.\nAlthough, the way it had to be used was cumbersome where developer had to ensure the exact name with order in $inject and the order in the method being injected.\nWe have moved on from that as we have ES module system in place (thanks to TS) and now we create and export instance of AngularJS services as soon as they get created. \nWe've exported all the native angular services like $http from a single file named ngImports. This basically helps us evade the dependency injection and import services as if another ES module.\nHere is how it works:\n/** ngImports.ts */\nimport * as ng from 'angular';\nimport app from 'app'; // app is our angular module's instance\n\napp.run(['$injector', ($i: ng.auto.IInjectorService) => {\n\t\t$http = $i.get('$http');\n\t\t// and so on for every other native service...\n\t}\n]);\n\nexport let $http: ng.IHttpService;\nFor our custom services, we have been writing TS classes which create strongly-typed injectables. We export custom services instance from the definition file itself.\nHere is an example:\n/** importHelpers.ts */\nimport * as ng from 'angular';\nimport app from 'app';\n\nlet $injector: ng.auto.IInjectorService;\nexport function getInjectable<T>(injectable: string, callback: (instance: T) => void) {\n\tif ($injector) {\n\t\tcallback($injector.get<T>(injectable));\n\t} else {\n\t\tapp.run(['$injector', ($injector: ng.auto.IInjectorService) => {\n\t\t\t\tcallback($injector.get<T>(injectable));\n\t\t\t}\n\t\t]);\n\t}\n}\n\n\n/** CampaignService.ts */\nclass CampaignService {\n\t// implementation here...\n}\n\napp.service('campaignService', CampaignService);\n\nexport let campaignService: CampaignService;\ngetInjectable<CampaignService>('campaignService', instance => campaignService = instance);\nIn the code above, campaignService is the instance of CampaignService that becomes directly importable anywhere throughout the codebase without going through the hassles of injection and preserves the type-safety automatically. \nComponent-based and intelligent attribute directives\nAngularJS always had the component-based architecture available at hand but under the disguise of isolated scope directives.\nIn fact, isolated scope directives are much more powerful as you have access to everything, from requiring other controllers up the chain, having access to element using $element and the least appreciated feature - Transclusion.\nTransclusion is probably the most underrated feature that AngularJs provides. This is basically analogous to slots in VueJS. This allows us build components that can take parts of the template as input from the consumer of component, letting us make very generic components that only encapsulate javascript logic, and the styling and the content can be outsourced to consumer.\nFor example, here we're using our select-box component which handles everything that a select-box should, but along with that, the consumer of component has complete control on how options should look (like icons, tooltips).\nThis is probably as powerful as any other modern framework.\n<vwo-select-box\n\toptions=\"vm.selectBoxOptions\"\n\tng-model=\"vm.ngModelSelectBox\">\n\t<selected-value-slot>\n\t\t<span>Selected - {{$slot.option.name}}</span>\n\t\t<vwo-icon\n\t\t  vwo-dynamic-tooltip-next\n\t\t  icon-size=\"20\" \n\t\t  icon-name=\"icon--info\" \n\t\t  class=\"icon text--highlight\">\n\t\t\t  <tooltip-content>\n\t\t\t\t  This just shows what you have selected. \n\t\t\t\t  You have selected '{{$slot.option.name}}'\n\t\t\t  </tooltip-content>\n\t\t</vwo-icon>\n\t</selected-value-slot>\n\t<option-slot>\n\t\t<span>{{$slot.option.name}}</span>\n\t\t<vwo-icon\n\t\t  vwo-dynamic-tooltip-next\n\t\t  icon-size=\"20\" \n\t\t  icon-name=\"icon--info\" \n\t\t  class=\"icon text--highlight\">\n\t\t\t  <tooltip-content>\n\t\t\t    Clicking on this option will select {{$slot.option.name}}\n\t\t\t  </tooltip-content>\n\t\t</vwo-icon>\n\t</option-slot>\n</vwo-select-box>\nModern frameworks provide a component-only approach to UI development, while AngularJS provides a full flexibility around that and which is taken to the next level with attribute based directives.\nAttribute based directives have a complete access to the whole life-cycle of an element and can modify it's behavior at any point of time. We use these directives very frequently to easily add reusable behaviors anywhere we'd want.\nFor example, there is a very generic requirement to ellipsize texts in limited screen-estate, but along with ellipsizing, it also becomes a requirement to add title for screen-readers or for looking at complete text when hovered. We have been able to encapsulate all of this covering every edge-case in a very simple attribute that would ellipsize wherever required, automatically.\nFor example:\n<span class=\"Miw(0)\" vwo-ellipsize>{{ session.platformName }}</span>\nWe use Mutation Observers, Resize Observers, real-time space availability checks, etc to decide the truncation of text and ensuring the element has title only if truncated. All of this wrapped in a cute-little attribute that we can put anywhere the text could grow. \nSee, AngularJS is not so bad after all \ud83d\ude05!\nHot Module Replacement\nHot Module Replacement (HMR) is taken for granted these days with such incredible tooling at hand, and with native framework support, it becomes a breeze to develop user interfaces at an incredible pace. The feedback loop is almost friction-less and you get to see things on-screen as you type and save.\n\n\n\nHMR is a fancy new thing and wasn't even a feature back then. With our archaic build process using grunt, loading modules using requireJS (AMD) and AngularJS with it's own cluttered dependency injection pattern, HMR was only a dream for us (at least until recently). This was more like looking for a Torque Converter in our stick-shift manual. \nAlthough, it was need of the hour, as a full-reload of the app on every code change was wasting a lot of time of our developers.\nWe started thinking around ways that could refresh the app with updated code in a jiffy without a full-reload.\nThere were multiple challenges and multiple iterations, but we were able to create a solution. Our latest HMR system streams all your HTML/TS/CSS changes to your browser in less than a second and the repaint is virtually flicker-free.\nThe system uses multiple nuances of requireJs, AngularJS, TS and DOM along with a lot of intelligent caching and batching to make this possible under a second and flicker-free.\nDon't tell, just show? Here you go \ud83d\ude80:\n\n\n\n\nA detailed blog post around how this system works is on the way. So, stay tuned!\nWhat's next\nWe have been evolving our frontend engineering consistently to make it on-par with the new technologies and frameworks emerging all the time and shared some of the key tips and tricks in this post.\n\n\n\n\nDespite these advancements, there are still some challenges that we need to overcome, such as build process speed and the need to optimize for performance and actually a new framework. Looking to the future, it's clear that we probably need to move on from AngularJS one day and we already have laid the stepping stones for that.\nWe're in the process of moving away from our age old grunt to a newer build process (probably using Vite) which will provide us with the latest tooling, faster build and path to upgrade to a modern framework.\nWe'll share our progress around that in another blog post.\nTill then keep innovating and keep experimenting!\nPS: We're not too far \ud83d\ude09, and already have an alpha ready with Vite \ud83d\udd25.\u2190 Introduction: Engineering @ WingifyComputing Aggregates in VWO\u2192TwitterGitHubRSSCopyright \u00a9 Wingify. All rights reserved.",
  "latestPost": {
    "title": "How we are writing modern Javascript with AngularJs",
    "title_detail": {
      "type": "text/plain",
      "language": null,
      "base": "https://engineering.wingify.com/atom.xml",
      "value": "How we are writing modern Javascript with AngularJs"
    },
    "summary": "Preface Writing slick user interfaces has never been so delightful as it is now. You\u2019ve got amazing frameworks, state management patterns\u2026",
    "summary_detail": {
      "type": "text/html",
      "language": null,
      "base": "https://engineering.wingify.com/atom.xml",
      "value": "Preface Writing slick user interfaces has never been so delightful as it is now. You\u2019ve got amazing frameworks, state management patterns\u2026"
    },
    "links": [
      {
        "rel": "alternate",
        "type": "text/html",
        "href": "https://engineering.wingify.com//posts/how-we-writing-modern-javascript-with-angularjs-1-x/"
      }
    ],
    "link": "https://engineering.wingify.com//posts/how-we-writing-modern-javascript-with-angularjs-1-x/",
    "id": "https://engineering.wingify.com//posts/how-we-writing-modern-javascript-with-angularjs-1-x/",
    "guidislink": false,
    "published": "Wed, 22 Mar 2023 00:00:00 GMT",
    "published_parsed": [
      2023,
      3,
      22,
      0,
      0,
      0,
      2,
      81,
      0
    ],
    "content": [
      {
        "type": "text/html",
        "language": null,
        "base": "https://engineering.wingify.com/atom.xml",
        "value": "<div class=\"img-wrapper\" style=\"text-align: center;\">\n    <img alt=\"Angular sword meme\" src=\"https://engineering.wingify.com/images/2023/01/angular-sword.jpeg\" width=\"40%\" />\n</div>\n<h2 id=\"preface\"><a class=\"anchor before\" href=\"https://engineering.wingify.com/atom.xml#preface\"><svg height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Preface</h2>\n<p>Writing slick user interfaces has never been so delightful as it is now. You\u2019ve got amazing frameworks, state management patterns that are easy to reason about, development tools, awesome community support, and all the tools around the whole Javascript world. The <em>Developer Experience (DX)</em> you get today, no matter what modern stack you choose, is simply great. Features like <em>compile-time error detection</em>, <em>pre-processors</em>, and <em>hot-reload</em> are just taken for granted and undoubtedly cut development time by a large margin.</p>\n<p>Unfortunately, not every software product has the advantage of being developed in such an ideal setting. This shiny JS world was just lit by a few stars like <em>AngularJS</em> when we started writing the new user interface for VWO which now has evolved into a very large codebase with uncountable features and has been consistently updated and maintained over the years. </p>\n<p>With AngularJS 1.x, we were required to develop our own build system and use custom pre-processors and transpilers to achieve the same capabilities that modern frameworks provide natively. In short, we had to handle the <em>developer experience</em> aspect internally, and we have managed to do so quite effectively.</p>\n<p>Although AngularJs is too old to be used for any web application today, over time we have learned how to use it in a modern way.</p>\n<p>In this blog post, we will discuss how we write modern Javascript along with AngularJS 1.x and discuss some of the key features and tools that we leverage to make development more efficient and maintainable.</p>\n<h2 id=\"typescript\"><a class=\"anchor before\" href=\"https://engineering.wingify.com/atom.xml#typescript\"><svg height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Typescript</h2>\n<p>Using JavaScript for web-dev is like playing on hardcore-mode.\nYou've allowed friendly-fire. If you want to shoot yourself in the foot, you can shoot yourself in the foot.\nWe're not up for that. We love our foot and also want to keep VWO running bug-free and that is why we use Typescript.</p>\n<p>Typescript needs no introduction and we started the process of migrating our app codebase to TS around 3 years back, although it wasn\u2019t straightforward as we had been using a lot of legacy patterns like <em>AMD (asynchronous module definition)</em> with <em>requireJS</em> and a very custom build process that involved <em>Grunt</em> and older version of <em>NodeJs</em> to build it.</p>\n<p>We wanted to use <em>ES import syntax</em> with strong types but all we saw was:</p>\n<div class=\"img-wrapper\" style=\"text-align: center;\">\n    <img alt=\"DEFINE DEFINE EVERYWHERE\" src=\"https://engineering.wingify.com/images/2023/01/define-define.jpg\" width=\"40%\" />\n</div>\n<p>We analyzed the <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" target=\"_blank\">tscompiler options</a> and set the <a href=\"https://www.typescriptlang.org/tsconfig/#target\" target=\"_blank\">target</a> to AMD and wrote a custom process to rename all JS files to TS and applied <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#-ts-nocheck-in-typescript-files\" target=\"_blank\"><code class=\"language-text\">// @ts-nocheck</code> directive</a> on the top without touching the source code at all. This way the whole team could write TS for new files and writing TS was opt-in for older files.</p>\n<p>Although, we had to keep <code class=\"language-text\">tsconfig.json</code> very lenient at the start with compiler options that enforced strict code had to be turned off. New files could be written with the modern ES import syntax and older files could be manually translated.</p>\n<p>After some time, we realized that manual translation from AMD to ES would take an eternity to complete, we looked for solutions and luckily found a <a href=\"https://github.com/facebook/jscodeshift\" target=\"_blank\">JScodeshift</a> that could <a href=\"https://github.com/5to6/5to6-codemod\" target=\"_blank\">transform AMD to ES</a></p>\n<p>As time passed by, our team gradually adopted Typescript and leveraged its countless features, resulting in a codebase that is exceptionally type-safe.</p>\n<p>For example, the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#optional-chaining\" target=\"_blank\">optional chaining operator</a> allows us to access the properties of an object without worrying about whether the object is null or undefined. This can save a lot of time and effort when working with complex objects, as it eliminates the need to check for null or undefined values at every level.</p>\n<p>We also wrote <em>TS decorators</em> for class methods and they just work wonders for us.</p>\n<div class=\"gatsby-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\">@<span class=\"token function\">memoize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> cacheKeyResolver<span class=\"token operator\">:</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span>stringify <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n@<span class=\"token function\">batchify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\tbatchKey<span class=\"token operator\">:</span> <span class=\"token string\">'ids'</span><span class=\"token punctuation\">,</span>\n\tmaxBatchCapacity<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n\tmaxWait<span class=\"token operator\">:</span> <span class=\"token number\">1000</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n@<span class=\"token function\">asyncThrottle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> MaxRequestCount<span class=\"token operator\">:</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> isLIFO<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">getCampaignsDetails</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">params<span class=\"token operator\">:</span> QueryForListParams</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span>  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>CampaignResource<span class=\"token punctuation\">.</span><span class=\"token function\">queryForCampaignsList</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>We use multiple decorators as shown above which help us separate out the business logics and performance improvements. Not only this helps us maintain the code, but also makes the code easy to follow and <strong>self-documenting</strong>. </p>\n<blockquote>\n<p> <strong>Code is like humor. When you have to explain it, it's bad!</strong> </p>\n</blockquote>\n<p>Apart from this, we utilize <code class=\"language-text\">enums</code> and the new <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-9.html#the-satisfies-operator\" target=\"_blank\"><code class=\"language-text\">satisfies</code></a> operator to make <strong>deeply typesafe code.</strong></p>\n<div class=\"gatsby-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">enum</span> SessionPlatform <span class=\"token punctuation\">{</span>\n\t<span class=\"token constant\">MOBILE</span> <span class=\"token operator\">=</span> <span class=\"token string\">'mobile'</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token constant\">TABLET</span> <span class=\"token operator\">=</span> <span class=\"token string\">'tablet'</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span>  SessionPlatformDetails  <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">[</span>SessionPlatform<span class=\"token punctuation\">.</span><span class=\"token constant\">MOBILE</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\ticon<span class=\"token operator\">:</span> IconEnum<span class=\"token punctuation\">.</span><span class=\"token constant\">MOBILE_ICON</span><span class=\"token punctuation\">,</span>\n\t\ttitle<span class=\"token operator\">:</span> <span class=\"token string\">'Mobile'</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">[</span>SessionPlatform<span class=\"token punctuation\">.</span><span class=\"token constant\">TABLET</span><span class=\"token punctuation\">]</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\ticon<span class=\"token operator\">:</span> IconEnum<span class=\"token punctuation\">.</span><span class=\"token constant\">IPAD_ICON</span><span class=\"token punctuation\">,</span>\n\t\ttitle<span class=\"token operator\">:</span> <span class=\"token string\">'Tablet'</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">const</span> satisfies Record<span class=\"token operator\">&lt;</span>SessionPlatformSupportedEnum<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\ticon<span class=\"token operator\">:</span> IconEnum<span class=\"token punctuation\">,</span> \n\ttitle<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code></pre></div>\n<div style=\"text-align: center; font-size: 12px; margin-bottom: 20px;\">\nThe code as above ensures that if a new <code class=\"language-text\">SessionPlatform</code> is added, the developer never misses adding the details in <code class=\"language-text\">SessionPlatformDetails</code>.\n</div>\n<p>Recently, we also learnt about writing <a href=\"https://medium.com/technogise/type-safe-and-exhaustive-switch-statements-aka-pattern-matching-in-typescript-e3febd433a7a\" target=\"_blank\">exhaustive switch cases with TS</a> that basically eliminates any missed cases on compile-time itself.</p>\n<h3 id=\"async-await-support\"><a class=\"anchor before\" href=\"https://engineering.wingify.com/atom.xml#async-await-support\"><svg height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Async-await support</h3>\n<p>AngularJs uses it's own <code class=\"language-text\">$q</code> service which is a first-class Promise implementation, but along with that it ensures that angular's digest cycle triggers automatically on promise status change.\nThis works well until the developer ensures that native <code class=\"language-text\">Promise</code> is NOT used anywhere and only <code class=\"language-text\">$q</code> is used for any async operation, but easily falls apart if they use <code class=\"language-text\">async-await</code> which uses native <code class=\"language-text\">Promise</code> internally and digest cycles are missed.\nTo mitigate this, we use <code class=\"language-text\">target</code> for TScompiler is <code class=\"language-text\">ES5</code> which transpiles ES5+ code down to ES5 and polyfill the new features with tslib/ts_helpers. The <code class=\"language-text\">async-await</code> code is transpiled down to using Native Promise.\nNow that is a small issue as the transpiled code directly depends on global <code class=\"language-text\">Promise</code> and we wanted the transpiled code to use <code class=\"language-text\">$q</code>. To fix this, we did a smart hack, by ensuring the global <code class=\"language-text\">Promise</code> always points to <code class=\"language-text\">$q</code> in the <code class=\"language-text\">app.run</code> block.</p>\n<div class=\"gatsby-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\">Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">,</span> <span class=\"token string\">'Promise'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> $q<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token comment\">// ignore any other code trying to replace global Promise</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now, we have complete clean async-await support without worrying about missing digest and no promise-hells \ud83d\ude09.</p>\n<p>I can keep on blabbering about how amazing typescript is (because it <strong>really is</strong>), but I'll move on.</p>\n<h2 id=\"tuning-angularjs\"><a class=\"anchor before\" href=\"https://engineering.wingify.com/atom.xml#tuning-angularjs\"><svg height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Tuning AngularJS</h2>\n<p>Everything around AngularJS is legacy now, be it available packages, community support, or answers over stackoverflow.\nOver the course of last few years, we upgraded the version of AngularJS in our VWO app from 1.2.x to 1.8.3 (last version of 1.x that Angular team left us with \ud83e\udd72).\nThis upgrade also was gradual and version-by-version as we had to go through the complete changelog of AngularJS. We were also at risk of depending on any deprecated undocumented APIs, hence extra care was needed.</p>\n<p>However, everything eventually worked and we were running the latest version. We also upgraded few of the other related packages and <code class=\"language-text\">@types/angular</code> package for best typing support from TS.</p>\n<h3 id=\"importable-angularjs-services\"><a class=\"anchor before\" href=\"https://engineering.wingify.com/atom.xml#importable-angularjs-services\"><svg height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Importable AngularJS services</h3>\n<p>AngularJS came with it's own dependency injection system because at that time, no particular module system was there in place in browsers. Developers usually used to mess-up the global namespace for code-sharing and hence dependency injection was a welcome move by Angular.\nAlthough, the way it had to be used was cumbersome where developer had to ensure the exact name with order in <code class=\"language-text\">$inject</code> and the order in the method being injected.\nWe have moved on from that as we have ES module system in place (thanks to TS) and now we create and export instance of AngularJS services as soon as they get created. </p>\n<p>We've exported all the native angular services like <code class=\"language-text\">$http</code> from a single file named <code class=\"language-text\">ngImports</code>. This basically helps us evade the dependency injection and import services as if another ES module.\nHere is how it works:</p>\n<div class=\"gatsby-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">/** ngImports.ts */</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> ng <span class=\"token keyword\">from</span> <span class=\"token string\">'angular'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> app <span class=\"token keyword\">from</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// app is our angular module's instance</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'$injector'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">$i<span class=\"token operator\">:</span> ng<span class=\"token punctuation\">.</span>auto<span class=\"token punctuation\">.</span>IInjectorService</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t$http <span class=\"token operator\">=</span> $i<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'$http'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token comment\">// and so on for every other native service...</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> $http<span class=\"token operator\">:</span> ng<span class=\"token punctuation\">.</span>IHttpService<span class=\"token punctuation\">;</span></code></pre></div>\n<p>For our custom services, we have been writing TS classes which create strongly-typed injectables. We export custom services instance from the definition file itself.\nHere is an example:</p>\n<div class=\"gatsby-highlight\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">/** importHelpers.ts */</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> ng <span class=\"token keyword\">from</span> <span class=\"token string\">'angular'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> app <span class=\"token keyword\">from</span> <span class=\"token string\">'app'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> $injector<span class=\"token operator\">:</span> ng<span class=\"token punctuation\">.</span>auto<span class=\"token punctuation\">.</span>IInjectorService<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> getInjectable<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>injectable<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token function-variable function\">callback</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">instance<span class=\"token operator\">:</span> <span class=\"token constant\">T</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>$injector<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>$injector<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>injectable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n\t\tapp<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'$injector'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">$injector<span class=\"token operator\">:</span> ng<span class=\"token punctuation\">.</span>auto<span class=\"token punctuation\">.</span>IInjectorService</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t\t\t<span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>$injector<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>injectable<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\">/** CampaignService.ts */</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CampaignService</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// implementation here...</span>\n<span class=\"token punctuation\">}</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">service</span><span class=\"token punctuation\">(</span><span class=\"token string\">'campaignService'</span><span class=\"token punctuation\">,</span> CampaignService<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> campaignService<span class=\"token operator\">:</span> CampaignService<span class=\"token punctuation\">;</span>\ngetInjectable<span class=\"token operator\">&lt;</span>CampaignService<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token string\">'campaignService'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">instance</span> <span class=\"token operator\">=></span> campaignService <span class=\"token operator\">=</span> instance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In the code above, <code class=\"language-text\">campaignService</code> is the instance of <code class=\"language-text\">CampaignService</code> that becomes directly importable anywhere throughout the codebase without going through the hassles of injection and preserves the type-safety automatically. </p>\n<h3 id=\"component-based-and-intelligent-attribute-directives\"><a class=\"anchor before\" href=\"https://engineering.wingify.com/atom.xml#component-based-and-intelligent-attribute-directives\"><svg height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Component-based and intelligent attribute directives</h3>\n<p>AngularJS always had the component-based architecture available at hand but under the disguise of isolated scope directives.\nIn fact, isolated scope directives are much more powerful as you have access to everything, from requiring other controllers up the chain, having access to element using <code class=\"language-text\">$element</code> and the least appreciated feature - Transclusion.</p>\n<p>Transclusion is probably the most underrated feature that AngularJs provides. This is basically analogous to <em>slots</em> in VueJS. This allows us build components that can take parts of the template as input from the consumer of component, letting us make very generic components that only encapsulate javascript logic, and the styling and the content can be outsourced to consumer.</p>\n<p>For example, here we're using our select-box component which handles everything that a select-box should, but along with that, the consumer of component has complete control on how options should look (like icons, tooltips).\nThis is probably as powerful as any other modern framework.</p>\n<div class=\"gatsby-highlight\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>vwo-select-box</span>\n\t<span class=\"token attr-name\">options</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>vm.selectBoxOptions<span class=\"token punctuation\">\"</span></span>\n\t<span class=\"token attr-name\">ng-model</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>vm.ngModelSelectBox<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>selected-value-slot</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span>Selected - {{$slot.option.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>vwo-icon</span>\n\t\t  <span class=\"token attr-name\">vwo-dynamic-tooltip-next</span>\n\t\t  <span class=\"token attr-name\">icon-size</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> \n\t\t  <span class=\"token attr-name\">icon-name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>icon--info<span class=\"token punctuation\">\"</span></span> \n\t\t  <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>icon text--highlight<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t\t  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tooltip-content</span><span class=\"token punctuation\">></span></span>\n\t\t\t\t  This just shows what you have selected. \n\t\t\t\t  You have selected '{{$slot.option.name}}'\n\t\t\t  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tooltip-content</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>vwo-icon</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>selected-value-slot</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option-slot</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span><span class=\"token punctuation\">></span></span>{{$slot.option.name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>vwo-icon</span>\n\t\t  <span class=\"token attr-name\">vwo-dynamic-tooltip-next</span>\n\t\t  <span class=\"token attr-name\">icon-size</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span> \n\t\t  <span class=\"token attr-name\">icon-name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>icon--info<span class=\"token punctuation\">\"</span></span> \n\t\t  <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>icon text--highlight<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t\t  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tooltip-content</span><span class=\"token punctuation\">></span></span>\n\t\t\t    Clicking on this option will select {{$slot.option.name}}\n\t\t\t  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tooltip-content</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>vwo-icon</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option-slot</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>vwo-select-box</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Modern frameworks provide a component-only approach to UI development, while AngularJS provides a full flexibility around that and which is taken to the next level with attribute based directives.\nAttribute based directives have a complete access to the whole life-cycle of an element and can modify it's behavior at any point of time. We use these directives very frequently to easily add reusable behaviors anywhere we'd want.</p>\n<p>For example, there is a very generic requirement to ellipsize texts in limited screen-estate, but along with ellipsizing, it also becomes a requirement to add title for screen-readers or for looking at complete text when hovered. We have been able to encapsulate all of this covering every edge-case in a very simple attribute that would ellipsize wherever required, automatically.</p>\n<p>For example:</p>\n<div class=\"gatsby-highlight\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Miw(0)<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">vwo-ellipsize</span><span class=\"token punctuation\">></span></span>{{ session.platformName }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>We use Mutation Observers, Resize Observers, real-time space availability checks, etc to decide the truncation of text and ensuring the element has title only if truncated. All of this wrapped in a cute-little attribute that we can put anywhere the text could grow. </p>\n<p>See, AngularJS is not so bad after all \ud83d\ude05!</p>\n<h3 id=\"hot-module-replacement\"><a class=\"anchor before\" href=\"https://engineering.wingify.com/atom.xml#hot-module-replacement\"><svg height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>Hot Module Replacement</h3>\n<p>Hot Module Replacement (HMR) is taken for granted these days with such incredible tooling at hand, and with native framework support, it becomes a breeze to develop user interfaces at an incredible pace. The feedback loop is almost friction-less and you get to see things on-screen as you type and save.</p>\n<div class=\"img-wrapper\" style=\"text-align: center;\">\n    <img alt=\"HMR meme\" src=\"https://engineering.wingify.com/images/2023/01/laxman-hmr.jpeg\" width=\"50%\" />\n</div>\n<p>HMR is a fancy new thing and wasn't even a feature back then. With our archaic build process using grunt, loading modules using requireJS (AMD) and AngularJS with it's own cluttered dependency injection pattern, HMR was only a dream for us (at least until recently). This was more like looking for a Torque Converter in our stick-shift manual. </p>\n<p>Although, it was need of the hour, as a full-reload of the app on every code change was wasting a lot of time of our developers.\nWe started thinking around ways that could refresh the app with updated code in a jiffy without a full-reload.</p>\n<p>There were multiple challenges and multiple iterations, but we were able to create a solution. Our latest HMR system streams all your HTML/TS/CSS changes to your browser in less than a second and the repaint is virtually flicker-free.\nThe system uses multiple nuances of requireJs, AngularJS, TS and DOM along with a lot of intelligent caching and batching to make this possible under a second and flicker-free.</p>\n<p>Don't tell, just show? Here you go \ud83d\ude80:</p>\n<div class=\"img-wrapper\" style=\"text-align: center;\">\n    <video alt=\"HMR Video Preview\" controls=\"true\" loop=\"true\" src=\"https://engineering.wingify.com/images/2023/01/hmr-edit.mp4\" width=\"80%\">\n</div>\n<br />\n<p>A detailed blog post around how this system works is on the way. So, stay tuned!</p>\n<h2 id=\"whats-next\"><a class=\"anchor before\" href=\"https://engineering.wingify.com/atom.xml#whats-next\"><svg height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\" fill-rule=\"evenodd\"></path></svg></a>What's next</h2>\n<p>We have been evolving our frontend engineering consistently to make it on-par with the new technologies and frameworks emerging all the time and shared some of the key tips and tricks in this post.</p>\n<div class=\"img-wrapper\" style=\"text-align: center;\">\n    <img alt=\"Tension meme\" src=\"https://engineering.wingify.com/images/2023/01/tension.jpeg\" width=\"40%\" />\n    <img alt=\"Tension sorted meme\" src=\"https://engineering.wingify.com/images/2023/01/tension-sorted.jpeg\" width=\"40%\" />\n</div>\n<p>Despite these advancements, there are still some challenges that we need to overcome, such as build process speed and the need to optimize for performance and actually a new framework. Looking to the future, it's clear that we probably need to move on from AngularJS one day and we already have laid the stepping stones for that.\nWe're in the process of moving away from our age old grunt to a newer build process (probably using <a href=\"https://vitejs.dev/\" target=\"_blank\">Vite</a>) which will provide us with the latest tooling, faster build and path to upgrade to a modern framework.</p>\n<p>We'll share our progress around that in another blog post.\nTill then keep innovating and keep experimenting!</p>\n<p><em>PS: We're not too far \ud83d\ude09, and already have an alpha ready with Vite \ud83d\udd25.</em></p>"
      }
    ],
    "authors": [
      {
        "name": "Pranav Jindal"
      }
    ],
    "author": "Pranav Jindal",
    "author_detail": {
      "name": "Pranav Jindal"
    }
  }
}